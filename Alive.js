import cron from 'node-cron';
import axios from 'axios';

const url = 'TIMNASA-TXMD-WA-BOT;;;=>eyJub2lzZUtleSI6eyJwcml2YXRlIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiS0NtUXdaUHZmNWVmNnl6Zy9XcWFrVXUrSlNiU0ZDam5EYlAvaFZLcUtGTT0ifSwicHVibGljIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoibHdBUFBEU0NCUjl6ZkhUQjZ1Rm16bG53MUlleTRsOVBwNTUrSTc4dngwOD0ifX0sInBhaXJpbmdFcGhlbWVyYWxLZXlQYWlyIjp7InByaXZhdGUiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiIrRkVaV0RVdjNjTHpIdG1XQkdycTR3aTREakFzNFAySWpwQW1MQkNOeEZBPSJ9LCJwdWJsaWMiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiJzK2RjTGp4L1RwK0dPSWFoMzJRdndQQ1czSFRmVjlBcDVXOVF3bjFXVm1zPSJ9fSwic2lnbmVkSWRlbnRpdHlLZXkiOnsicHJpdmF0ZSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6ImFQWUtGNDRZRFZiK1hzNmxrOHpIMExmTDYxZEUwMlNrMGdaNzUyWGhOMnM9In0sInB1YmxpYyI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IkRUZUpBUDI1QW1aeS9kOU05S005TFVTWDdBMFBVREtCU0xUS0txYUJTRVU9In19LCJzaWduZWRQcmVLZXkiOnsia2V5UGFpciI6eyJwcml2YXRlIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiQUV5cWNaL2lHNVducHd6d0R0aUJLVGdrVm52bVBJWGhuSnlaWnYxdW5HQT0ifSwicHVibGljIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiOThreTVCaEE5Y28wK0hLeksvd0lQcTVUbDBQTmFSY1IxaTU1NlBoWTBIaz0ifX0sInNpZ25hdHVyZSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6Ijd6dGlORjM3b0NNUG4zUjEvNmVtNW8yMFBWamVJNjdVb1kyci9KWUpxaFV6ZDUzYjRqUlgrT0xFbW41MWNXaTI1RUo4ZUo4Y0pxVVJUNStvaktzaGhnPT0ifSwia2V5SWQiOjF9LCJyZWdpc3RyYXRpb25JZCI6MjU1LCJhZHZTZWNyZXRLZXkiOiJaKzV6TE1sM2VJT1N5N0wrbEV2MEpIQURUR1ZPTnl4aUFKNTlaNjQzdkNrPSIsInByb2Nlc3NlZEhpc3RvcnlNZXNzYWdlcyI6W3sia2V5Ijp7InJlbW90ZUppZCI6IjI1NTc1NzEwMzY3MUBzLndoYXRzYXBwLm5ldCIsImZyb21NZSI6dHJ1ZSwiaWQiOiJFODg3RThDMDBGOENFMTNFQjM4MDJERUFEMjYwMTE1MiJ9LCJtZXNzYWdlVGltZXN0YW1wIjoxNzUwNTgzOTA1fSx7ImtleSI6eyJyZW1vdGVKaWQiOiIyNTU3NTcxMDM2NzFAcy53aGF0c2FwcC5uZXQiLCJmcm9tTWUiOnRydWUsImlkIjoiOTgxMTc1MEU0REFGMjdCNzFDRDE0MkZBNEZENkEzMzUifSwibWVzc2FnZVRpbWVzdGFtcCI6MTc1MDU4MzkwNn1dLCJuZXh0UHJlS2V5SWQiOjYxLCJmaXJzdFVudXBsb2FkZWRQcmVLZXlJZCI6NjEsImFjY291bnRTeW5jQ291bnRlciI6MSwiYWNjb3VudFNldHRpbmdzIjp7InVuYXJjaGl2ZUNoYXRzIjpmYWxzZX0sImRldmljZUlkIjoicTQyRk5PREFRelMyZThOeGxaYmJ6dyIsInBob25lSWQiOiJhMDQ1MGFhYS0zMTRmLTRiMjQtYjI4ZC0yYzFjNDFiNGVmM2MiLCJpZGVudGl0eUlkIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiOHpwS3FaMHNUWlBTSkFIRVZULzhTc2NnUmpnPSJ9LCJyZWdpc3RlcmVkIjp0cnVlLCJiYWNrdXBUb2tlbiI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IjhwWFU5N1g0ekNKdTZoSC8zYS8vdjVaaGFkbz0ifSwicmVnaXN0cmF0aW9uIjp7fSwicGFpcmluZ0NvZGUiOiJUT1hJQ1RFQyIsIm1lIjp7ImlkIjoiMjU1NzU3MTAzNjcxOjRAcy53aGF0c2FwcC5uZXQiLCJuYW1lIjoizrnRlM+DybPOscm+ZCDRgtGUxojQvSIsImxpZCI6Ijg0NzIzMTYyNDM1NzI4OjRAbGlkIn0sImFjY291bnQiOnsiZGV0YWlscyI6IkNMRzNrWXNIRU0rVTM4SUdHQUVnQUNnQSIsImFjY291bnRTaWduYXR1cmVLZXkiOiJhSXBjNW5UVjA1Vkl0RjExOW4wRkhXeC9FQ1g2TjFkM3JJb2JrT1hwR2lBPSIsImFjY291bnRTaWduYXR1cmUiOiI5Vkd3WUxxM2JBWno1M2lBenlRY1NJMzBCS0NDNHBicENFbzNaSitiV3R6bHFwdU9DMkxZTFloWWJzOGpwbDlaanMrTEZaMndJZ2c1VHA5aVZiN0JCdz09IiwiZGV2aWNlU2lnbmF0dXJlIjoiS2NLWkxEUCt4UndERUUzYzdiZ0doeUZnV1pJMElUc0l2MlZ2Vm9ya0RxbjMzRFNrNkZFYkpHRTBkUVphWWl3NU5XamxjRXVSOGc5Z2NRalF6SnhFZ3c9PSJ9LCJzaWduYWxJZGVudGl0aWVzIjpbeyJpZGVudGlmaWVyIjp7Im5hbWUiOiIyNTU3NTcxMDM2NzE6NEBzLndoYXRzYXBwLm5ldCIsImRldmljZUlkIjowfSwiaWRlbnRpZmllcktleSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IkJXaUtYT1owMWRPVlNMUmRkZlo5QlIxc2Z4QWwramRYZDZ5S0c1RGw2Um9nIn19XSwicGxhdGZvcm0iOiJzbWJhIiwicm91dGluZ0luZm8iOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiJDQWdJRWc9PSJ9LCJsYXN0QWNjb3VudFN5bmNUaW1lc3RhbXAiOjE3NTA1ODM5MDEsImxhc3RQcm9wSGFzaCI6Im5tM0JiIiwibXlBcHBTdGF0ZUtleUlkIjoiQUFBQUFDQzQifQ==';

cron.schedule('*/14 * * * *', async () => {
  try {
    await axios.get(url);
    console.log('Service pinged successfully');
  } catch (error) {
    console.error('Error pinging service:', error);
  }
});
